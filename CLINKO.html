<meta name='viewport'
     content='width=device-width, initial-scale=1.0, maximum-scale=1.0,
     user-scalable=0' >
<html>
<body style="margin:0;">
<svg viewBox="0 0 3100 2075" height="100%" width="100%">
  <defs>
    <circle r="5" fill="black" id="peg"/>
    <circle r="5" fill="black" id="epeg"/>
    <rect width="9" height="844" x="-4.5" y="10.5" fill="white" stroke-width="1" stroke="grey" id="separator"/>
    <rect width="10" height="845" x="-5" y="10" fill="brown" id="eseparator"/>
    <g id="disc">
      <circle r="85" fill="blue" stroke-width="10" stroke="navy"/>
      <text font-size="40" dominant-baseline="central" text-anchor="middle" fill="white">CLINKO</text>
    </g>
    <use xlink:href="#disc" transform="translate(0 0)" id="discclone"/>
  </defs>
  
  <g transform="translate(800 259) translate(0 1730)">
    <g transform="scale(1 1)" id="maxscale">
      <g transform="scale(1 0)" id="distscale">
        <path d="M -10 0 L 700 0 L 700 -2.8125 L 500 -2.8125 L 500 -16.875 L 300 -16.875 L 300 -42.1875 L 100 -42.1875 L 100 -56.25 L -10 -56.25" fill="#FFFFD0"  stroke="black" stroke-width="1" id="thoreticaldist"/>
        <use xlink:href="#thoreticaldist" transform="scale(-1 1)"/>
        <use xlink:href="#thoreticaldist" transform="translate(1500 0)"/>
        <use xlink:href="#thoreticaldist" transform="translate(1500 0) scale(-1 1)"/>
      </g>
      <g transform="translate(0 -90)">
        <g transform="translate(-600 0)" id="userdiscs-3"></g>
        <g transform="translate(-400 0)" id="userdiscs-2"></g>
        <g transform="translate(-200 0)" id="userdiscs-1"></g>
        <g transform="translate(0 0)" id="userdiscs0"></g>
        <g transform="translate(200 0)" id="userdiscs1"></g>
        <g transform="translate(400 0)" id="userdiscs2"></g>
        <g transform="translate(600 0)" id="userdiscs3"></g>
      </g>
      <g transform="translate(1500 -90)">
        <g transform="translate(-600 0)" id="compdiscs-3"></g>
        <g transform="translate(-400 0)" id="compdiscs-2"></g>
        <g transform="translate(-200 0)" id="compdiscs-1"></g>
        <g transform="translate(0 0)" id="compdiscs0"></g>
        <g transform="translate(200 0)" id="compdiscs1"></g>
        <g transform="translate(400 0)" id="compdiscs2"></g>
        <g transform="translate(600 0)" id="compdiscs3"></g>
      </g>
    </g>
  </g>
  
  
  <g fill="brown" transform="translate(800 259)" id="usertriangle">
    <use xlink:href="#epeg" transform="translate(-200 0)"/>
    <use xlink:href="#peg" transform="translate(0 0)"/>
    <use xlink:href="#epeg" transform="translate(200 0)"/>
    <use xlink:href="#epeg" transform="translate(-300 173)"/>
    <use xlink:href="#peg" transform="translate(-100 173)"/>
    <use xlink:href="#peg" transform="translate(100 173)"/>
    <use xlink:href="#epeg" transform="translate(300 173)"/>
    <use xlink:href="#epeg" transform="translate(-400 346)"/>
    <use xlink:href="#peg" transform="translate(-200 346)"/>
    <use xlink:href="#peg" transform="translate(0 346)"/>
    <use xlink:href="#peg" transform="translate(200 346)"/>
    <use xlink:href="#epeg" transform="translate(400 346)"/>
    <use xlink:href="#epeg" transform="translate(-500 519)"/>
    <use xlink:href="#peg" transform="translate(-300 519)"/>
    <use xlink:href="#peg" transform="translate(-100 519)"/>
    <use xlink:href="#peg" transform="translate(100 519)"/>
    <use xlink:href="#peg" transform="translate(300 519)"/>
    <use xlink:href="#epeg" transform="translate(500 519)"/>
    <use xlink:href="#epeg" transform="translate(-600 692)"/>
    <use xlink:href="#peg" transform="translate(-400 692)"/>
    <use xlink:href="#peg" transform="translate(-200 692)"/>
    <use xlink:href="#peg" transform="translate(0 692)"/>
    <use xlink:href="#peg" transform="translate(200 692)"/>
    <use xlink:href="#peg" transform="translate(400 692)"/>
    <use xlink:href="#epeg" transform="translate(600 692)"/>
    <use xlink:href="#epeg" transform="translate(-700 865)"/>
    <use xlink:href="#peg" transform="translate(-500 865)"/>
    <use xlink:href="#peg" transform="translate(-300 865)"/>
    <use xlink:href="#peg" transform="translate(-100 865)"/>
    <use xlink:href="#peg" transform="translate(100 865)"/>
    <use xlink:href="#peg" transform="translate(300 865)"/>
    <use xlink:href="#peg" transform="translate(500 865)"/>
    <use xlink:href="#epeg" transform="translate(700 865)"/>
    <use xlink:href="#eseparator" transform="translate(-700 865)"/>
    <use xlink:href="#separator" transform="translate(-500 865)"/>
    <use xlink:href="#separator" transform="translate(-300 865)"/>
    <use xlink:href="#separator" transform="translate(-100 865)"/>
    <use xlink:href="#separator" transform="translate(100 865)"/>
    <use xlink:href="#separator" transform="translate(300 865)"/>
    <use xlink:href="#separator" transform="translate(500 865)"/>
    <use xlink:href="#eseparator" transform="translate(700 865)"/>
    <path d="M 100 -259 L 100 -173 A 200 200 0 0 1 200 0 A 200 200 0 0 1 300 173 A 200 200 0 0 1 400 346 A 200 200 0 0 1 500 519 A 200 200 0 0 1 600 692 A 200 200 0 0 1 700 865 L 700 1730 L -10 1730 L -10 1816 L 800 1816 L 800 -259" id="upperboard"/>
    <use xlink:href="#upperboard" transform="scale(-1 1)"/>
  </g>
  <use xlink:href="#usertriangle" transform="translate(1500 0)" id="comptriangle"/>
  <g transform="translate(800 259) translate(0 -95)">
    <g transform="translate(0 0)" id="maindiscrow">
      <use xlink:href="#disc" transform="translate(0 0)" id="usermaindisc"/>
      <g transform="translate(1500 0)">
        <use xlink:href="#disc" transform="translate(0 0)" id="compmaindisc"/>
      </g>
    </g>
  </g>
</svg>
<script>
  document.addEventListener('keydown', keyEvent);
  document.onclick = clickEvent;
  var maxheight = 0;
  var totaldiscs = 0;
  var mainrow = 0;
  var usercount = 0;
  var compcount = 0;
  var usermaindisc = document.getElementById("usermaindisc");
  var compmaindisc = document.getElementById("compmaindisc");
  var maindiscrow = document.getElementById("maindiscrow");
  var distscale = document.getElementById("distscale");
  var maxscale = document.getElementById("maxscale");
  var discclone = document.getElementById("discclone");
  function keyEvent(e) {
    addDisc((e.keyCode & 2) - 1);
  }
  function clickEvent(e) {
    if(e.clientX * 2 >= document.body.clientWidth)
    {
      addDisc(1);
    } else
    {
      addDisc(-1);
    }
  }
  function addDisc(i) {
    usercount += i;
    compcount += Math.floor(Math.random() * 2) * 2 - 1;
    mainrow = (mainrow + 1) % 6;
    if (mainrow == 0) {
      console.log(`userdiscs${usercount}`);
      var userdiscs = document.getElementById(`userdiscs${usercount/2}`);
      var compdiscs = document.getElementById(`compdiscs${compcount/2}`);
      
      var newuserdisc = discclone.cloneNode();
      newuserdisc.setAttribute("transform",`translate(0 ${userdiscs.childElementCount*(-180)}) rotate(${usercount*100})`);
      userdiscs.appendChild(newuserdisc);
      var newcompdisc = discclone.cloneNode();
      newcompdisc.setAttribute("transform",`translate(0 ${compdiscs.childElementCount*(-180)}) rotate(${compcount*100})`);
      compdiscs.appendChild(newcompdisc);
      
      totaldiscs++;
      maxheight = Math.max(maxheight, totaldiscs / 3.2, 4.75, userdiscs.childElementCount, compdiscs.childElementCount)
      distscale.setAttribute("transform", `scale(1 ${totaldiscs})`);
      maxscale.setAttribute("transform", `scale(1 ${4.75/maxheight})`);
      usercount = 0;
      compcount = 0;
    }
    usermaindisc.setAttribute("transform", `translate(${usercount*100} 0) rotate(${usercount*100})`);
    compmaindisc.setAttribute("transform", `translate(${compcount*100} 0) rotate(${compcount*100})`);
    maindiscrow.setAttribute("transform", `translate(0 ${mainrow*173})`);
  }
</script>
</body>
</html>